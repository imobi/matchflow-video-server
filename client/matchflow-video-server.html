<head>
    <title>matchflow-video-server</title>
</head>

<body>
    <h1>I shouldn't have told you that...</h1>

    {{> videoForm}}
    {{> videoView}}
    <hr />
    {{> imageForm}}
    {{> imageView}}
    <!--{{> hello}}-->
</body>

<!--<template name="hello">
  <button>Click Me</button>
  <p>You've pressed the button {{counter}} times.</p>
</template>-->

<template name="imageForm">
    <input type="file" name="imagefile" class="myFileInput" />
</template>

<template name="imageView">
    <div class="imageView">
        {{#each images}}
        <div>
            {{#if isUploaded}}
                {{#if isImage}}
                    <a href="{{this.url}}" target="_blank">
                        <img src="{{this.url}}" alt="" class="thumbnail" />
                    </a>
                    <button class="deleteFileButton">delete</button>
                {{/if}}
            {{/if}}
        </div>
        {{/each}}
    </div>
</template>


<template name="videoForm">
    <input type="file" name="videofile" class="myFileInput" />
</template>

<template name="videoView">
    {{#each videos}}
        <div>
            {{#if isUploaded}}
                {{#if isVideo}}
                    <video width="300" height="200" controls>
                        <source src={{this.url}} type={{this.type}}>
                        Your browser does not support the video tag.
                    </video>
                    <button class="deleteFileButton">delete</button>
                {{/if}}
            {{/if}}
        </div>
    {{/each}}
<!--    {{#with file}}
        {{#if isReady}}
            <video width="300" height="200" controls>
                <source src={{this.url}} type={{this.type}}>
                Your browser does not support the video tag.
            </video>
        {{/if}}
    {{/with}}-->
</template>